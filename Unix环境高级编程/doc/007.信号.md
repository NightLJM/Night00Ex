## **007.信号**

**7.1 概念**

1. 信号是软中断。不存在信号编号为0的信号。
2. 信号的处理方式：
    1. 忽略此信号。大多数信号可以以这种方式处理。但有两种信号决不能被忽略，SIGKILL和SIGSTOP。
    2. 捕捉信号。通知内核在某种信号发生时，调用一个用户函数。注意不能捕捉SIGKILL和SIGSTOP。
    3. 执行系统默认操作。大多数信号的系统默认操作都是终止该进程。

**7.2 signal函数**

``` C
void (*signal(int signo, void(*func)(int)))(int);
```

1. 返回值：若成功，返回之前的信号处理配置；若失败，返回SIG_ERR；
2. signo是信号名。fun可以是常量SIG_IGN，常量SIG_DEF或接收到此信号需要执行的函数的地址
    1. SIG_IGN：内核忽略此信号
    2. SIG_DEF：内核以默认的操作处理
    3. #define SIG_ERR (void (*)())-1
    4. #define SIG_DEL (void (*)())0
    5. #define SIG_IGN (void (*)())1
3. 通过kill命令可以将信号传递给制定进程：kill -SIGUSR1 [进程号]
4. 进程创建(fork)的时候，子进程会继承父进程的信号处理方式。因为子进程在开始时复制父进程的内存映像。
